if(Ext.DatePicker){Ext.override(Ext.DatePicker,{update:function(A){var a=this.activeDate;this.activeDate=A;if(a&&this.el){var k=A.getTime();if(a.getMonth()==A.getMonth()&&a.getFullYear()==A.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(d){if(d.dom.firstChild.dateValue==k){d.addClass("x-date-selected");return false}});return}}var g=A.getDaysInMonth();var l=A.getFirstDateOfMonth();var c=l.getDay()-this.startDay;if(c<=this.startDay){c+=7}var v=A.add("mo",-1);var e=v.getDaysInMonth()-c;var b=this.cells.elements;var m=this.textNodes;g+=c;var r=86400000;var y=(new Date(v.getFullYear(),v.getMonth(),e)).clearTime();var x=new Date().clearTime().getTime();var p=A.clearTime().getTime();var o=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY;var s=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY;var B=this.disabledDatesRE;var n=this.disabledDatesText;var D=this.disabledDays?this.disabledDays.join(""):false;var z=this.disabledDaysText;var u=this.format;var h=function(E,d){d.title="";var i=y.getTime();d.firstChild.dateValue=i;if(i==x){d.className+=" x-date-today";d.title=E.todayText}if(i==p){d.className+=" x-date-selected"}if(i<o){d.className=" x-date-disabled";d.title=E.minText;return}if(i>s){d.className=" x-date-disabled";d.title=E.maxText;return}if(D){if(D.indexOf(y.getDay())!=-1){d.title=z;d.className=" x-date-disabled"}}if(B&&u){var w=y.dateFormat(u);if(B.test(w)){d.title=n.replace("%0",w);d.className=" x-date-disabled"}}};var q=0;for(;q<c;q++){m[q].innerHTML=(++e);y.setDate(y.getDate()+1);b[q].className="x-date-prevday";h(this,b[q])}for(;q<g;q++){intDay=q-c+1;m[q].innerHTML=(intDay);y.setDate(y.getDate()+1);b[q].className="x-date-active";h(this,b[q])}var C=0;for(;q<42;q++){m[q].innerHTML=(++C);y.setDate(y.getDate()+1);b[q].className="x-date-nextday";h(this,b[q])}this.mbtn.setText(this.monthNames[A.getMonth()]+" "+A.getFullYear());if(!this.internalRender){var f=this.el.dom.firstChild;var j=f.offsetWidth;this.el.setWidth(j+this.el.getBorderWidth("lr"));Ext.fly(f).setWidth(j);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){f.rows[0].cells[1].style.width=(j-(f.rows[0].cells[0].offsetWidth+f.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[A])}}}})};